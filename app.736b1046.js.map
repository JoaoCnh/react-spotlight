{"version":3,"sources":["webpack:///./src/components/SpotlightContext.js","webpack:///./src/utils/media.js","webpack:///./src/components/HitList.js","webpack:///./src/components/HitDetail.js","webpack:///./src/components/Hits.js","webpack:///./src/components/Overlay.js","webpack:///./src/components/SearchIcon.js","webpack:///./src/components/SearchInput.js","webpack:///./src/components/SearchBar.js","webpack:///./src/Spotlight.js","webpack:///./src/index.js"],"names":["React","createContext","media","css","_templateObject","List","styled","div","HitList_templateObject","HitList_templateObject2","ResultHeader","HitList_templateObject3","Hit","li","_templateObject4","props","selected","DetailContainer","HitDetail_templateObject","theme","detailBg","HitDetail_templateObject2","Detail","HitDetail_templateObject3","Image","img","HitDetail_templateObject4","Title","h1","_templateObject5","Hits","Hits_templateObject","open","react_default","a","createElement","Fragment","SpotlightContext","Consumer","_ref","hits","selectedResultIndex","selectHit","Object","keys","map","hitKey","length","key","hit","id","flatIndex","onClick","bind","name","flatHits","src","imageUrl","alt","type","setName","Overlay_templateObject","Overlay_templateObject2","SearchIcon","SearchIcon_templateObject","SearchIcon_templateObject2","react_fontawesome_index_es","size","icon","Input","input","SearchInput_templateObject","SearchInput_templateObject2","SearchInput","_classCallCheck","this","_this","_possibleConstructorReturn","_React$PureComponent","call","_performSearch","searchTerm","keyUpFunction","performSearch","event","target","value","debounce","render","autoFocus","placeholder","onKeyUp","onKeyDown","keyDownFunction","PureComponent","SearchBar","SearchBar_templateObject","SearchIcon_ref","handleKeyUp","handleKeyDown","SearchInput_SearchInput","DEFAULT_STATE","isOpen","Overlay","SearchBar_ref","hasResults","Spotlight","state","toggle","setState","clearSearch","close","arguments","undefined","_extends","selectUp","_this$state","selectDown","_this$state2","_this$state3","_this$state4","preventDefault","ctrlKey","shiftKey","_asyncToGenerator","regenerator_default","mark","_callee","term","res","json","wrap","_context","prev","next","fetch","sent","cards","card","index","groupBy","stop","_this2","_x2","apply","_listenKey","keyCode","componentWillUnmount","document","body","removeEventListener","componentDidMount","addEventListener","Provider","Spotlight_ref2","Component","library","add","faSearch","Kbd","kbd","src_templateObject","src_Spotlight","querySelector"],"mappings":"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","file":"app.736b1046.js","sourcesContent":["import React from \"react\";\n\nexport default React.createContext({});\n","import { css } from \"styled-components\";\n\nexport default {\n  pc: (...args) => css`\n    @media only screen and (min-width: 680px) {\n      ${css(...args)};\n    }\n  `,\n\n  tablet: (...args) => css`\n    @media only screen and (max-width: 1279px) {\n      ${css(...args)};\n    }\n  `,\n\n  phone: (...args) => css`\n    @media only screen and (max-width: 660px) {\n      ${css(...args)};\n    }\n  `\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport SpotlightContext from \"components/SpotlightContext\";\n\nimport media from \"utils/media\";\n\nconst List = styled.div`\n  width: 100%;\n  overflow: hidden;\n  overflow-y: auto;\n  user-select: none;\n  position: absolute;\n  height: calc(100% - 55px);\n  border-right: 1px solid #515253;\n  background-color: rgba(0, 20, 41, 0.97);\n\n  ${media.pc`width: 290px;`};\n\n  ul {\n    min-height: calc(100% - 55px);\n  }\n\n  ul,\n  li {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    list-style-type: none;\n  }\n`;\n\nconst ResultHeader = styled.div`\n  color: #ffffff;\n  font-size: 12px;\n  padding: 4px 0 2px 25px;\n  text-transform: uppercase;\n  background-color: rgba(53, 75, 84, 0.97);\n`;\n\nconst Hit = styled.li`\n  color: #ffffff;\n  cursor: pointer;\n  font-size: 12px;\n  padding: 6px 6px 6px 25px !important;\n\n  ${props => props.selected && `color: #ffffff; background-color: #0093f8;`};\n`;\n\nexport default () => (\n  <SpotlightContext.Consumer>\n    {({ hits, selectedResultIndex, selectHit }) => (\n      <List>\n        <ul>\n          {Object.keys(hits).map(hitKey => {\n            if (hits[hitKey].length === 0) {\n              return null;\n            }\n\n            return (\n              <li key={`hit-group-${hitKey}`}>\n                <ResultHeader>{hitKey}</ResultHeader>\n                <ul>\n                  {hits[hitKey].map(hit => (\n                    <Hit\n                      key={`hit-${hit.id}`}\n                      selected={hit.flatIndex === selectedResultIndex}\n                      onClick={selectHit.bind(this, hit.flatIndex)}\n                    >\n                      {hit.name}\n                    </Hit>\n                  ))}\n                </ul>\n              </li>\n            );\n          })}\n        </ul>\n      </List>\n    )}\n  </SpotlightContext.Consumer>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport SpotlightContext from \"components/SpotlightContext\";\n\nimport media from \"utils/media\";\n\nconst DetailContainer = styled.div`\n  width: 390px;\n  height: 375px;\n  display: none;\n  color: #ffffff;\n  overflow-y: auto;\n  margin-left: 290px;\n  background-color: ${props => props.theme.detailBg};\n\n  ${media.pc`display: block;`};\n`;\n\nconst Detail = styled.div`\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst Image = styled.img`\n  height: 250px;\n  border-radius: 15px;\n`;\n\nconst Title = styled.h1`\n  color: #ffffff;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nexport default () => (\n  <SpotlightContext.Consumer>\n    {({ flatHits, selectedResultIndex }) => {\n      const hit = flatHits[selectedResultIndex];\n\n      return (\n        <DetailContainer>\n          <Detail>\n            <Image src={hit.imageUrl} alt={hit.name} />\n            <Title>{hit.name}</Title>\n            <span>{hit.type}</span>\n            <span>{hit.setName}</span>\n          </Detail>\n        </DetailContainer>\n      );\n    }}\n  </SpotlightContext.Consumer>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport HitList from \"components/HitList\";\nimport HitDetail from \"components/HitDetail\";\nimport SpotlightContext from \"components/SpotlightContext\";\n\nconst Hits = styled.div`\n  max-height: 0;\n  min-height: 0;\n  overflow: hidden;\n  transition: all 0.3s;\n  background-color: rgba(0, 20, 41, 0.97);\n\n  ${props =>\n    props.open &&\n    `\n    min-height: 375px;\n    max-height: 400px;\n    border-top: 1px solid #515253;\n  `};\n`;\n\nexport default () => (\n  <SpotlightContext.Consumer>\n    {({ flatHits }) => {\n      const hasResults = flatHits.length > 0;\n\n      return (\n        <Hits open={hasResults}>\n          {hasResults ? (\n            <React.Fragment>\n              <HitList />\n              <HitDetail />\n            </React.Fragment>\n          ) : null}\n        </Hits>\n      );\n    }}\n  </SpotlightContext.Consumer>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport media from \"utils/media\";\n\nexport default styled.div`\n  top: 20%;\n  left: 1%;\n  width: 98%;\n  z-index: 100;\n  font-size: 12px;\n  overflow: hidden;\n  border-radius: 6px;\n  position: absolute;\n  letter-spacing: 0.3px;\n  font-family: Verdana, \"Lucida Sans Unicode\", sans-serif;\n  box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24),\n    0 17px 50px 0 rgba(0, 0, 0, 0.19);\n\n  ${media.pc`\n    left: 50%;\n    width: 680px;\n    margin-left: -340px;\n  `};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport media from \"utils/media\";\n\nconst SearchIcon = styled.div`\n  width: 22px;\n  height: 22px;\n  margin: 16.5px;\n  position: absolute;\n  background-size: cover;\n\n  ${media.pc`\n    float: left;\n    position: static;\n  `};\n\n  svg {\n    color: #a6a6a6;\n  }\n`;\n\nexport default () => (\n  <SearchIcon>\n    <FontAwesomeIcon size=\"2x\" icon=\"search\" />\n  </SearchIcon>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { debounce } from \"lodash-es\";\n\nimport media from \"utils/media\";\nimport SpotlightContext from \"components/SpotlightContext\";\n\nconst Input = styled.input`\n  margin: 0;\n  padding: 0;\n  height: 55px;\n  color: #ffffff;\n  font-size: 1.7em;\n  font-weight: 100;\n  padding-left: 55px;\n  padding-right: 50px;\n  box-sizing: border-box;\n  border: none !important;\n  outline: none !important;\n  max-width: 100% !important;\n  background-color: transparent;\n\n  ${media.pc`\n    padding: 0;\n    float: left;\n    box-sizing: content-box;\n    max-width: 350px !important;\n  `};\n\n  &:-ms-input-placeholder {\n    color: #a6a6a6;\n  }\n  &:-moz-placeholder {\n    color: #a6a6a6;\n  }\n  &::-moz-placeholder {\n    color: #a6a6a6;\n  }\n  &::-webkit-input-placeholder {\n    color: #a6a6a6;\n  }\n`;\n\nclass SearchInput extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this._performSearch = debounce(this._performSearch, 500);\n  }\n\n  _performSearch = searchTerm => {\n    this.props.keyUpFunction(searchTerm);\n  };\n\n  performSearch = event => {\n    this._performSearch(event.target.value);\n  };\n\n  render() {\n    return (\n      <Input\n        autoFocus={true}\n        placeholder=\"Pesquisa Spotlight\"\n        onKeyUp={this.performSearch}\n        onKeyDown={this.props.keyDownFunction}\n      />\n    );\n  }\n}\n\nexport default () => (\n  <SpotlightContext.Consumer>\n    {({ handleKeyUp, handleKeyDown }) => (\n      <SearchInput\n        keyUpFunction={handleKeyUp}\n        keyDownFunction={handleKeyDown}\n      />\n    )}\n  </SpotlightContext.Consumer>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport SearchIcon from \"components/SearchIcon\";\nimport SearchInput from \"components/SearchInput\";\n\nconst SearchBar = styled.div`\n  z-index: 10;\n  height: 55px;\n  position: relative;\n  background-color: rgba(0, 21, 41, 0.97);\n`;\n\nexport default () => {\n  return (\n    <SearchBar>\n      <SearchIcon />\n      <SearchInput />\n    </SearchBar>\n  );\n};\n","import React, { Component } from \"react\";\nimport { groupBy } from \"lodash-es\";\n\nimport Hits from \"components/Hits\";\nimport Overlay from \"components/Overlay\";\nimport SearchBar from \"components/SearchBar\";\nimport SpotlightContext from \"components/SpotlightContext\";\n\nconst DEFAULT_STATE = {\n  hits: {},\n  flatHits: [],\n  isOpen: false,\n  selectedResultIndex: 0\n};\n\nclass Spotlight extends Component {\n  state = {\n    ...DEFAULT_STATE,\n    toggle: () => {\n      this.setState({ isOpen: !this.state.isOpen });\n    },\n    clearSearch: (close = false) => {\n      this.setState({ ...DEFAULT_STATE, isOpen: !close });\n    },\n    selectHit: selectedResultIndex => {\n      if (selectedResultIndex === this.state.selectedResultIndex) {\n        return;\n      }\n\n      this.setState({ selectedResultIndex });\n    },\n    selectUp: () => {\n      const { flatHits, selectedResultIndex } = this.state;\n\n      if (selectedResultIndex > 0) {\n        this.setState({ selectedResultIndex: selectedResultIndex - 1 });\n        return;\n      }\n\n      this.setState({ selectedResultIndex: flatHits.length - 1 });\n    },\n    selectDown: () => {\n      const { flatHits, selectedResultIndex } = this.state;\n\n      if (selectedResultIndex < flatHits.length - 1) {\n        this.setState({ selectedResultIndex: selectedResultIndex + 1 });\n        return;\n      }\n\n      this.setState({ selectedResultIndex: 0 });\n    },\n    handleKeyUp: input => {\n      const { clearSearch, performSearch } = this.state;\n\n      if (!input) {\n        return;\n      }\n\n      if (!input) {\n        clearSearch();\n      } else {\n        performSearch(input);\n      }\n    },\n    handleKeyDown: event => {\n      const { selectUp, selectDown, clearSearch } = this.state;\n\n      // verificamos a tecla ↑ ↓ tab shift+tab ctrl+j ctrl+k\n      switch (event.key) {\n        case \"ArrowUp\":\n          selectUp();\n          event.preventDefault();\n          break;\n        case \"ArrowDown\":\n          selectDown();\n          event.preventDefault();\n          break;\n        case \"k\":\n          if (event.ctrlKey) {\n            selectUp();\n          }\n          event.preventDefault();\n          break;\n        case \"j\":\n          if (event.ctrlKey) {\n            selectDown();\n          }\n          event.preventDefault();\n          break;\n        case \"Tab\":\n          if (event.shiftKey) {\n            selectUp();\n          } else {\n            selectDown();\n          }\n          event.preventDefault();\n          break;\n        case \"Escape\":\n          clearSearch(true);\n          event.preventDefault();\n          break;\n      }\n    },\n    performSearch: async term => {\n      const res = await fetch(\n        `https://api.magicthegathering.io/v1/cards?name=${term}`\n      );\n      const json = await res.json();\n\n      // because magic api has no group feature\n      // adding the flatIndex property will come in handy later\n      const flatHits = json.cards.map((card, index) => {\n        return {\n          ...card,\n          flatIndex: index\n        };\n      });\n\n      this.setState({\n        flatHits: flatHits,\n        hits: groupBy(flatHits, \"rarity\")\n      });\n    }\n  };\n\n  _listenKey = event => {\n    const isCtrlSpace = event.keyCode === 32 && event.ctrlKey;\n    if (!isCtrlSpace) {\n      return;\n    }\n\n    this.state.toggle();\n  };\n\n  componentWillUnmount() {\n    document.body.removeEventListener(\"keydown\", this._listenKey);\n  }\n\n  componentDidMount() {\n    document.body.addEventListener(\"keydown\", this._listenKey);\n  }\n\n  render() {\n    if (!this.state.isOpen) {\n      return null;\n    }\n\n    return (\n      <SpotlightContext.Provider value={this.state}>\n        <Overlay>\n          <SearchBar />\n          <Hits />\n        </Overlay>\n      </SpotlightContext.Provider>\n    );\n  }\n}\n\nexport default Spotlight;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport styled from \"styled-components\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nimport Spotlight from \"./Spotlight\";\n\nlibrary.add(faSearch);\n\nconst Kbd = styled.kbd`\n  border: 1px solid #666666;\n  border-radius: 4px;\n  padding: 3px 5px;\n  margin: 2px;\n  color: #444444;\n  text-decoration: none;\n`;\n\nrender(\n  <div>\n    To open press <Kbd>ctrl</Kbd>\n    <Kbd>space</Kbd>\n    <Spotlight />\n  </div>,\n  document.querySelector(\"#app\")\n);\n"],"sourceRoot":""}